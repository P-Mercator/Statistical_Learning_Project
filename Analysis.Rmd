---
title: "R Notebook"
output:
  html_document: default
  html_notebook: default
---
```{r global_options}
knitr::opts_chunk$set(fig.width=12, fig.height=8, fig.path='figs/',
                      echo=FALSE, warning=FALSE, message=FALSE)
```

# Introduction to notebook

Here is a R notebook file where I think it will be the best place to summarise and keep trck of the analysis. Those notebooks are similar to iPython notebook but are based on [R Markdown](http://rmarkdown.rstudio.com). See the link for anybody not familiar with it.

I think the best will be to write short R scripts inside the "scripts" folder. Once functionalities work in those scripts we can summarise the progress in this notebook. That way we will manage to keep good track of what's been done and what still needs to be done.

When you save this Rmarkdown, an html version of the notebook will automatically be created, which you can view in your web browser. By the end of the analysis we should have a near finished report already that we can then export to pdf using Pandoc and other tools like [rticles](https://github.com/rstudio/rticles).

The working directory should automatically be set to where this notebook is placed, so there is no need to change it. Make sure you run the latest Rstudio, the extracted data is in the "data" folder, open the R project using the.Rproj file and all should be set to work.

Also, for those who may not know, Rstudio has a fancy git/github that is really handy.


## Notebook example

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 


This is an  Notebook. When you execute code within the notebook, the results appear beneath the code. 


```{r nb_example}
plot(cars)
```

```{r chunk_name, echo=FALSE}
x <- rnorm(100)
y <- 2*x + rnorm(100)
cor(x, y)
```
```{r nb_example-2}
plot(x,y)
```
Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file).

# Read data
## Plot image
```{r}
require(data.table)
require(pixmap)


path_folders="./data/Marcel-Train"
folders=list.files(path = path_folders)

N=c()

for(folder in folders){
  N=c(N,length(list.files(paste0(path_folders,"/",folder))))
}
#read the first image for each type
file_1=list.files(paste0(path_folders,"/",folders[1]))[1]
image_1=read.pnm(paste0(path_folders,"/",folders[1],"/",file_1))
#the images are 76x66px images, RGB
plot(image_1)
```

## Convert images to dataframe of grayscale intensity matrix

```{r}
gray <- image_1@red
gray
image(gray)
```

